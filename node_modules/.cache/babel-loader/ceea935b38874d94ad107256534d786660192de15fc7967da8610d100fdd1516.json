{"ast":null,"code":"var _jsxFileName = \"/Users/ammarkiravan/Desktop/dropdown/src/components/CustomSelect/index.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport './styles.css';\nimport { api, keyEvent } from './constants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CustomSelect = ({\n  onChange\n}) => {\n  _s();\n  const [options, setOptions] = useState([]);\n  const [selectedOption, setSelectedOption] = useState('');\n  const [isOpen, setIsOpen] = useState(false);\n  const [activeIndex, setActiveIndex] = useState(-1);\n  const selectRef = useRef(null);\n  useEffect(() => {\n    const fetchOptions = async () => {\n      const response = await fetch(api.URL, {\n        headers: {\n          'X-Parse-Application-Id': api.ID,\n          // This is the fake app's application id\n          'X-Parse-Master-Key': api.KEY // This is the fake app's readonly master key\n        }\n      });\n      const data = await response.json();\n      setOptions(data.results);\n    };\n    fetchOptions();\n  }, []);\n  const handleOptionClick = ({\n    Name\n  }) => {\n    setSelectedOption(Name);\n    setIsOpen(false);\n    if (onChange) {\n      onChange(Name);\n    }\n  };\n  const handleToggle = () => {\n    setIsOpen(!isOpen);\n  };\n  const handleBlur = () => {\n    setIsOpen(false);\n  };\n  const handleKeyDown = e => {\n    switch (e.key) {\n      case keyEvent.ARROW_DOWN:\n        setActiveIndex(prevIndex => Math.min(prevIndex + 1, options.length - 1));\n        break;\n      case keyEvent.ARROW_UP:\n        setActiveIndex(prevIndex => Math.max(prevIndex - 1, 0));\n        break;\n      case keyEvent.ENTER:\n        if (activeIndex >= 0) {\n          handleOptionClick(options[activeIndex]);\n        }\n        break;\n      case keyEvent.SPACE:\n        setIsOpen(!isOpen);\n        break;\n      case keyEvent.ESCAPE:\n        setIsOpen(false);\n        break;\n      default:\n        break;\n    }\n  };\n  useEffect(() => {\n    if (isOpen && activeIndex >= 0) {\n      const activeElement = selectRef.current.querySelector(`.option:nth-child(${activeIndex + 1})`);\n      activeElement.scrollIntoView({\n        block: 'nearest'\n      });\n    }\n  }, [isOpen, activeIndex]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"custom-select\",\n    onBlur: handleBlur,\n    tabIndex: \"0\",\n    onKeyDown: handleKeyDown,\n    ref: selectRef,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"selected-option\",\n      onClick: handleToggle,\n      children: selectedOption || 'Select an option'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), isOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"options-container\",\n      children: options.map((option, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `option ${index === activeIndex ? 'active' : ''}`,\n        onClick: () => handleOptionClick(option),\n        onMouseEnter: () => setActiveIndex(index),\n        children: option.Name\n      }, option.objectId, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n};\n_s(CustomSelect, \"50hFUFhDJX2FRtcpr96FfvZekOY=\");\n_c = CustomSelect;\nCustomSelect.propTypes = {\n  onChange: PropTypes.func\n};\nexport default CustomSelect;\nvar _c;\n$RefreshReg$(_c, \"CustomSelect\");","map":{"version":3,"names":["React","useState","useEffect","useRef","PropTypes","api","keyEvent","jsxDEV","_jsxDEV","CustomSelect","onChange","_s","options","setOptions","selectedOption","setSelectedOption","isOpen","setIsOpen","activeIndex","setActiveIndex","selectRef","fetchOptions","response","fetch","URL","headers","ID","KEY","data","json","results","handleOptionClick","Name","handleToggle","handleBlur","handleKeyDown","e","key","ARROW_DOWN","prevIndex","Math","min","length","ARROW_UP","max","ENTER","SPACE","ESCAPE","activeElement","current","querySelector","scrollIntoView","block","className","onBlur","tabIndex","onKeyDown","ref","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","map","option","index","onMouseEnter","objectId","_c","propTypes","func","$RefreshReg$"],"sources":["/Users/ammarkiravan/Desktop/dropdown/src/components/CustomSelect/index.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './styles.css';\nimport { api, keyEvent } from './constants';\n\nconst CustomSelect = ({ onChange }) => {\n  const [options, setOptions] = useState([]);\n  const [selectedOption, setSelectedOption] = useState('');\n  const [isOpen, setIsOpen] = useState(false);\n  const [activeIndex, setActiveIndex] = useState(-1);\n  const selectRef = useRef(null);\n\n  useEffect(() => {\n    const fetchOptions = async () => {\n      const response = await fetch(api.URL, {\n        headers: {\n          'X-Parse-Application-Id': api.ID, // This is the fake app's application id\n          'X-Parse-Master-Key': api.KEY, // This is the fake app's readonly master key\n        },\n      });\n      const data = await response.json();\n      setOptions(data.results);\n    };\n\n    fetchOptions();\n  }, []);\n\n  const handleOptionClick = ({ Name }) => {\n    setSelectedOption(Name);\n    setIsOpen(false);\n    if (onChange) {\n      onChange(Name);\n    }\n  };\n\n  const handleToggle = () => {\n    setIsOpen(!isOpen);\n  };\n\n  const handleBlur = () => {\n    setIsOpen(false);\n  };\n\n  const handleKeyDown = (e) => {\n    switch (e.key) {\n      case keyEvent.ARROW_DOWN:\n        setActiveIndex((prevIndex) => Math.min(prevIndex + 1, options.length - 1));\n        break;\n      case keyEvent.ARROW_UP:\n        setActiveIndex((prevIndex) => Math.max(prevIndex - 1, 0));\n        break;\n      case keyEvent.ENTER:\n        if (activeIndex >= 0) {\n          handleOptionClick(options[activeIndex]);\n        }\n        break;\n      case keyEvent.SPACE:\n        setIsOpen(!isOpen);\n        break;\n      case keyEvent.ESCAPE:\n        setIsOpen(false);\n        break;\n      default:\n        break;\n    }\n  };\n\n  useEffect(() => {\n    if (isOpen && activeIndex >= 0) {\n      const activeElement = selectRef.current.querySelector(`.option:nth-child(${activeIndex + 1})`);\n      activeElement.scrollIntoView({ block: 'nearest' });\n    }\n  }, [isOpen, activeIndex]);\n\n  return (\n    <div className=\"custom-select\" onBlur={handleBlur} tabIndex=\"0\" onKeyDown={handleKeyDown} ref={selectRef}>\n      <div className=\"selected-option\" onClick={handleToggle}>\n        {selectedOption || 'Select an option'}\n      </div>\n      {isOpen && (\n        <div className=\"options-container\">\n          {options.map((option, index) => (\n            <div\n              key={option.objectId}\n              className={`option ${index === activeIndex ? 'active' : ''}`}\n              onClick={() => handleOptionClick(option)}\n              onMouseEnter={() => setActiveIndex(index)}\n            >\n              {option.Name}\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nCustomSelect.propTypes = {\n  onChange: PropTypes.func,\n};\n\nexport default CustomSelect;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}